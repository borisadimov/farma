<ion-navbar *navbar primary>
  <ion-title class="ion_title">Forgot password</ion-title>
</ion-navbar>

<ion-content padding class="forgot-password">
  <my-farma-header [color]="'grey'"></my-farma-header>

  <p secondary class="title">Hai dimenticato la password?</p>
  <p class="subtitle">Indicaci la tua mail di registrazione, provvederemo ad inoltrarti la tua password di recupero.</p>

  <form (ngSubmit)="onReset()" [ngFormModel]="form" novalidate>
    <ion-input
      type="email"
      placeholder="Email"
      [(ngModel)]="email"
      [ngFormControl]="form.controls['email']"
      (click)="resetFlags()">
    </ion-input>

    <p danger class="error" [hidden]="true">Please, type your email correctly</p>
    <p danger class="error" *ngIf="flagNoAccount">There is no account linked with this email</p>
    <p class="error" *ngIf="flagOK">
      The mail with reset link has been sended to this email. Now you can <span class="login-link" (click)="onLogin()">login</span>.
    </p>

    <button secondary block round class="send" type="submit" [disabled]="!form.valid">Reset password</button>
  </form>

  <div class="haveAccount">
    <span grey-medium>You do not have an account?</span>
    <span grey-medium class="register-link" (click)="onRegister()">Register</span>
  </div>

</ion-content>
